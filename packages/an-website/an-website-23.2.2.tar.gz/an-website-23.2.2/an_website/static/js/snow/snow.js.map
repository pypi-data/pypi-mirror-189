{
  "version": 3,
  "sources": ["../../../snow/snow.ts"],
  "sourcesContent": ["const snow = document.getElementById(\"snow\");\n\nlet snowflakesCount = 200;\n\nlet bodyHeightPx = null;\nlet pageHeightVh = null;\n\nfunction setHeightVariables() {\n    bodyHeightPx = document.documentElement.getBoundingClientRect().height;\n    pageHeightVh = 100 * Math.max(bodyHeightPx / window.innerHeight, 1);\n}\n\nfunction getSnowAttributes() {\n    if (snow) {\n        snowflakesCount = Number(\n            snow.attributes?.count?.value || snowflakesCount,\n        );\n    }\n}\n\n// This function allows you to turn the snow on and off\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction showSnow(value) {\n    if (value) {\n        snow.style.display = \"block\";\n    } else {\n        snow.style.display = \"none\";\n    }\n}\n\n// Creating snowflakes\nfunction spawnSnow(snowDensity = 200) {\n    for (let i = 1; i <= snowDensity; i++) {\n        const flake = document.createElement(\"p\");\n        snow.appendChild(flake);\n    }\n}\n\n// Append style for each snowflake to the head\nfunction addCss(rule) {\n    const css = document.createElement(\"style\");\n    css.appendChild(document.createTextNode(rule)); // Support for the rest\n    document.getElementsByTagName(\"head\")[0].appendChild(css);\n}\n\n// Math\nfunction randomInt(value = 100) {\n    return Math.floor(Math.random() * value) + 1;\n}\n\nfunction randomIntRange(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction getRandomArbitrary(min, max) {\n    return Math.random() * (max - min) + min;\n}\n\n// Create style for snowflake\nfunction spawnSnowCSS(snowDensity = 200) {\n    let rule = \"\";\n\n    for (let i = 1; i <= snowDensity; i++) {\n        const randomX = Math.random() * 100; // vw\n        const randomOffset = Math.random() * 10; // vw\n        const randomXEnd = randomX + randomOffset;\n        const randomXEndYoyo = randomX + (randomOffset / 2);\n        const randomYoyoTime = getRandomArbitrary(0.3, 0.8);\n        const randomYoyoY = randomYoyoTime * 100; // vh\n        const randomScale = Math.random();\n        const fallDuration = randomIntRange(10, 30); // s\n        const fallDelay = randomInt(30) * -1; // s\n        const opacity = Math.random();\n\n        rule += `\n      #snow p:nth-child(${i}) {\n        opacity: ${opacity};\n        transform: translate(${randomX}vw, -10px) scale(${randomScale});\n        animation: fall-${i} ${fallDuration}s ${fallDelay}s linear infinite;\n      }\n      @keyframes fall-${i} {\n        ${randomYoyoTime * 100}% {\n          transform: translate(${randomXEnd}vw, ${randomYoyoY}vh) scale(${randomScale});\n        }\n        to {\n          transform: translate(${randomXEndYoyo}vw, 100vh) scale(${randomScale});\n        }\n      }\n    `;\n    }\n    addCss(rule);\n}\n\n// Load the rules and execute after the DOM loads\nfunction createSnow() {\n    setHeightVariables();\n    getSnowAttributes();\n    spawnSnowCSS(snowflakesCount);\n    if (!snow.firstElementChild) {\n        spawnSnow(snowflakesCount);\n    }\n}\n\nwindow.onload = createSnow;\n\n// TODO add option to easily re-render scenery. For example when window resizes.\n// this should be easy as CSS rerenders after display block -> none -> block;\n// TODO add progress bar for slower clients\n"],
  "mappings": "aAAA,MAAM,KAAO,SAAS,eAAe,MAAM,EAE3C,IAAI,gBAAkB,IAElB,aAAe,KACf,aAAe,KAEnB,SAAS,oBAAqB,CAC1B,aAAe,SAAS,gBAAgB,sBAAsB,EAAE,OAChE,aAAe,IAAM,KAAK,IAAI,aAAe,OAAO,YAAa,CAAC,CACtE,CAEA,SAAS,mBAAoB,CACrB,OACA,gBAAkB,OACd,KAAK,YAAY,OAAO,OAAS,eACrC,EAER,CAIA,SAAS,SAASA,EAAO,CACjBA,EACA,KAAK,MAAM,QAAU,QAErB,KAAK,MAAM,QAAU,MAE7B,CAGA,SAAS,UAAUC,EAAc,IAAK,CAClC,QAASC,EAAI,EAAGA,GAAKD,EAAaC,IAAK,CACnC,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxC,KAAK,YAAYA,CAAK,CAC1B,CACJ,CAGA,SAAS,OAAOC,EAAM,CAClB,MAAMC,EAAM,SAAS,cAAc,OAAO,EAC1CA,EAAI,YAAY,SAAS,eAAeD,CAAI,CAAC,EAC7C,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAAE,YAAYC,CAAG,CAC5D,CAGA,SAAS,UAAUL,EAAQ,IAAK,CAC5B,OAAO,KAAK,MAAM,KAAK,OAAO,EAAIA,CAAK,EAAI,CAC/C,CAEA,SAAS,eAAeM,EAAKC,EAAK,CAC9B,OAAAD,EAAM,KAAK,KAAKA,CAAG,EACnBC,EAAM,KAAK,MAAMA,CAAG,EACb,KAAK,MAAM,KAAK,OAAO,GAAKA,EAAMD,EAAM,EAAE,EAAIA,CACzD,CAEA,SAAS,mBAAmBA,EAAKC,EAAK,CAClC,OAAO,KAAK,OAAO,GAAKA,EAAMD,GAAOA,CACzC,CAGA,SAAS,aAAaL,EAAc,IAAK,CACrC,IAAIG,EAAO,GAEX,QAASF,EAAI,EAAGA,GAAKD,EAAaC,IAAK,CACnC,MAAMM,EAAU,KAAK,OAAO,EAAI,IAC1BC,EAAe,KAAK,OAAO,EAAI,GAC/BC,EAAaF,EAAUC,EACvBE,EAAiBH,EAAWC,EAAe,EAC3CG,EAAiB,mBAAmB,GAAK,EAAG,EAC5CC,EAAcD,EAAiB,IAC/BE,EAAc,KAAK,OAAO,EAC1BC,EAAe,eAAe,GAAI,EAAE,EACpCC,EAAY,UAAU,EAAE,EAAI,GAC5BC,EAAU,KAAK,OAAO,EAE5Bb,GAAQ;AAAA,0BACUF;AAAA,mBACPe;AAAA,+BACYT,qBAA2BM;AAAA,0BAChCZ,KAAKa,MAAiBC;AAAA;AAAA,wBAExBd;AAAA,UACdU,EAAiB;AAAA,iCACMF,QAAiBG,cAAwBC;AAAA;AAAA;AAAA,iCAGzCH,qBAAkCG;AAAA;AAAA;AAAA,KAI/D,CACA,OAAOV,CAAI,CACf,CAGA,SAAS,YAAa,CAClB,mBAAmB,EACnB,kBAAkB,EAClB,aAAa,eAAe,EACvB,KAAK,mBACN,UAAU,eAAe,CAEjC,CAEA,OAAO,OAAS",
  "names": ["value", "snowDensity", "i", "flake", "rule", "css", "min", "max", "randomX", "randomOffset", "randomXEnd", "randomXEndYoyo", "randomYoyoTime", "randomYoyoY", "randomScale", "fallDuration", "fallDelay", "opacity"]
}
