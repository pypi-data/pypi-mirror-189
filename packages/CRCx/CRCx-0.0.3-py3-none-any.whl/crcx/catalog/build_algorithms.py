from os.path import join as path_join, basename
from crc_rc3.catalog.loaders import params, load_params


def build():
	_as = "_load"
	path = path_join(__file__, "../algorithms.py")

	_0 = (
		f"# file generated by '{basename(__file__)}'\n"
		f"from .loaders import {load_params.__name__} as {_as}\n"
		""
	)

	_c = (
		"\n\n"
		f"@{_as}\n"
		"def \u00ff():\n"
		"\tpass\n"
	)

	with open(path, "w") as f:
		f.write(_0)
		for k in params:
			f.write(_c.replace("\u00ff", k))


if __name__ == '__main__':
	build()
