(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{290:function(e,t,n){Promise.resolve().then(n.bind(n,8568)),Promise.resolve().then(n.bind(n,507)),Promise.resolve().then(n.bind(n,8531)),Promise.resolve().then(n.bind(n,5512)),Promise.resolve().then(n.bind(n,6057)),Promise.resolve().then(n.t.bind(n,30,23)),Promise.resolve().then(n.bind(n,2341)),Promise.resolve().then(n.bind(n,8764)),Promise.resolve().then(n.bind(n,4313)),Promise.resolve().then(n.bind(n,2621)),Promise.resolve().then(n.bind(n,2582)),Promise.resolve().then(n.bind(n,6157)),Promise.resolve().then(n.bind(n,6456)),Promise.resolve().then(n.bind(n,740)),Promise.resolve().then(n.bind(n,7903)),Promise.resolve().then(n.bind(n,3559))},807:function(e){e.exports={pagination:"Pager_pagination__na24a",rounded:"Pager_rounded__yJi5K","left-bar":"Pager_left-bar__E6raY","right-bar":"Pager_right-bar__OUzxs"}},3451:function(e){e.exports={button:"Buttons_button__rNaL_","button-outline":"Buttons_button-outline__EJA3Q","active-button":"Buttons_active-button__sLTHn","kangas-title":"Buttons_kangas-title__huDj2","kangas-item":"Buttons_kangas-item__q9Ku4"}},4173:function(e){e.exports={invalid:"Filter_invalid__zvP8o"}},4354:function(e){e.exports={"matrix-select":"MatrixSelectClient_matrix-select__Vx0ZW"}},6281:function(e){e.exports={"cached-icon":"RefreshButton_cached-icon__I49AT"}},1221:function(e){e.exports={button:"SettingsBar_button__kgcuS","button-outline":"SettingsBar_button-outline__Z05BW","active-button":"SettingsBar_active-button__0YURC","kangas-title":"SettingsBar_kangas-title__4OCiA","kangas-item":"SettingsBar_kangas-item__1gtrE","settings-bar":"SettingsBar_settings-bar__LjqF4","left-settings-bar":"SettingsBar_left-settings-bar__KDAL9","right-settings-bar":"SettingsBar_right-settings-bar__05lEt","matrix-select":"SettingsBar_matrix-select__8Q7b_",pagination:"SettingsBar_pagination__yj9u5",selector:"SettingsBar_selector__3vaKl","multi-select-columns":"SettingsBar_multi-select-columns__Q97WD",title:"SettingsBar_title__s1iVF",subtitle:"SettingsBar_subtitle__pjNmh","multi-select-columns-body":"SettingsBar_multi-select-columns-body__uP7_R","button-row":"SettingsBar_button-row__qa7_i",reset:"SettingsBar_reset__EOaZB","select-modal-title":"SettingsBar_select-modal-title__dqCQ7","reset-button":"SettingsBar_reset-button__SyS2E",disabled:"SettingsBar_disabled__9llMh",enabled:"SettingsBar_enabled__RBaog","select-modal-body":"SettingsBar_select-modal-body__0ALp1","accordion-label":"SettingsBar_accordion-label__goUnx","accordion-content":"SettingsBar_accordion-content__ni4_t",active:"SettingsBar_active__ehazG","arrow-toggle":"SettingsBar_arrow-toggle__ZWHfI","MuiPaper-root":"SettingsBar_MuiPaper-root__JRgd6",expanded:"SettingsBar_expanded__UGHYm","MuiOutlinedInput-root":"SettingsBar_MuiOutlinedInput-root__gpsC_","MuiOutlinedInput-notchedOutline":"SettingsBar_MuiOutlinedInput-notchedOutline__9K__D","MuiInputBase-adornedEnd":"SettingsBar_MuiInputBase-adornedEnd__X77ZC","MuiAccordion--root":"SettingsBar_MuiAccordion--root__lJ481","MuiPopover-paper":"SettingsBar_MuiPopover-paper__9_xQh","react-select-list":"SettingsBar_react-select-list__Oc5IZ","react-autocomplete-input":"SettingsBar_react-autocomplete-input__Bw7Lq",main:"SettingsBar_main__Wep96","cell-verbatim":"SettingsBar_cell-verbatim__3qPB7","cached-icon":"SettingsBar_cached-icon__qXZAg",filter:"SettingsBar_filter__1Zjac"}},2764:function(e){e.exports={cell:"Cell_cell__ET96p",header:"Cell_header__pGPf6",group:"Cell_group__pjKTb",expanded:"Cell_expanded__9wpld","cell-content":"Cell_cell-content__noOl8","cell-json-expanded":"Cell_cell-json-expanded__8qfdc"}},1941:function(e){e.exports={"plotly-chart":"Charts_plotly-chart__hi5kw",expanded:"Charts_expanded__FHVTt","plotly-chart-with-stats":"Charts_plotly-chart-with-stats__ppttl","plotly-container":"Charts_plotly-container__WjAp0","plotly-container-with-stats":"Charts_plotly-container-with-stats__AKlqI","chart-thumbnail":"Charts_chart-thumbnail__DAVWC"}},698:function(e){e.exports={"image-editor":"ImageCanvas_image-editor__D1brK","editor-controls":"ImageCanvas_editor-controls__i8lN8","canvas-column":"ImageCanvas_canvas-column__Cbpm5","canvas-container":"ImageCanvas_canvas-container__d1B5J"}},5549:function(e){e.exports={dialogue:"DialogueModal_dialogue__GSWOz","dialogue-toggle":"DialogueModal_dialogue-toggle__Q3Aj0",overlay:"DialogueModal_overlay__indsg"}},8591:function(e){e.exports={button:"SelectColumnDropdown_button__eOVl2","button-outline":"SelectColumnDropdown_button-outline___2Arx","active-button":"SelectColumnDropdown_active-button__Q6yW_","kangas-title":"SelectColumnDropdown_kangas-title__6gIyZ","kangas-item":"SelectColumnDropdown_kangas-item__WsMbi","select-modal":"SelectColumnDropdown_select-modal__ipwl1","select-modal-title":"SelectColumnDropdown_select-modal-title__HEEB1",disabled:"SelectColumnDropdown_disabled__AHroG",enabled:"SelectColumnDropdown_enabled__o46Jm","reset-button":"SelectColumnDropdown_reset-button__V2bF7","select-modal-body":"SelectColumnDropdown_select-modal-body__E9qRd","react-select-container":"SelectColumnDropdown_react-select-container__txM8H","button-row-footer":"SelectColumnDropdown_button-row-footer__T0xpD"}},7643:function(){},2621:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var l=n(1844),a=n(9330),r=n(5784),i=n(8933),s=n(3451),o=n.n(s),c=n(7166),u=n.n(c),d=n(507);u().bind(o()),u().bind(o());let h=e=>{let{text:t}=e;return(0,l.jsx)(d.default,{toggleElement:(0,l.jsx)("div",{style:{color:"#5155f5"},children:(0,l.jsx)("span",{children:"About this DataGrid"})}),sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"540px"}}},children:(0,l.jsx)("div",{style:{display:"flex"},children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:t},style:{width:"500px",overflow:"auto",border:"solid blue",borderWidth:"thin"}})})})};var g=n(807),p=n.n(g);let v=u().bind(p()),m=e=>{let{aboutText:t,firstRow:n,totalRows:s,currentPage:o,totalPages:c,maxRow:u,pageSize:d}=e,{params:g,updateParams:p}=(0,i.Z)(),m=(0,r.useRef)(),f=""!==t?(0,l.jsx)(h,{text:t}):(0,l.jsx)(l.Fragment,{}),b=e=>e>0&&e<=c&&e!==o,x=(0,r.useCallback)(e=>{b(e)&&p({page:e})},[p]);(0,r.useCallback)(e=>{p({rows:e,page:1})},[p]);let _=(0,r.useCallback)(e=>{if((null==e?void 0:e.keyCode)===13||(null==e?void 0:e.code)==="Enter"){let t=parseInt(e.target.value);t&&x(t)}},[x]);(0,r.useEffect)(()=>{(null==m?void 0:m.current)&&(m.current.value=o)},[o]);let y=(0,r.useMemo)(()=>!b(1),[o,c]),j=(0,r.useMemo)(()=>!b(c),[o,c]),S=(0,r.useMemo)(()=>!b(o+1),[o,c]),C=(0,r.useMemo)(()=>!b(o-1),[o,c]);return(0,l.jsxs)("div",{className:v("pagination"),children:[(0,l.jsx)("div",{className:v("left-bar"),children:f}),(0,l.jsxs)("div",{className:v("right-bar"),children:[(0,l.jsxs)("span",{children:["Showing ","".concat(n.toLocaleString(a.Z.locale)," - ").concat(u.toLocaleString(a.Z.locale)," of ").concat(s.toLocaleString(a.Z.locale)," rows")]}),(0,l.jsx)("button",{className:v("rounded"),onClick:()=>x(1),disabled:y,children:"|<"}),(0,l.jsx)("button",{className:v("rounded"),onClick:()=>x(o-1),disabled:C,children:"<"}),(0,l.jsx)("span",{children:"Page"}),(0,l.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyDown:e=>_(e),disabled:c<=1,ref:m,defaultValue:o,style:{width:"50px",margin:"0 8px",textAlign:"center",fontSize:"12px",fontWeight:"500"}}),(0,l.jsxs)("span",{children:["of ","".concat(c.toLocaleString(a.Z.locale))]}),(0,l.jsx)("button",{className:v("rounded"),onClick:()=>x(o+1),disabled:S,children:">"}),(0,l.jsx)("button",{className:v("rounded"),onClick:()=>x(c),disabled:j,children:">|"})]})]})};var f=m},740:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5724),r=n(3451),i=n.n(r),s=n(7166),o=n.n(s),c=n(8901),u=n(130);let d=o().bind(i()),h=()=>{let{open:e,toggleOpen:t,anchor:n}=(0,c.Z)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:d("button-outline"),onClick:t,ref:n,children:[(0,l.jsx)("img",{src:"/group_placeholder.png"})," ",(0,l.jsx)("span",{children:"Group by"})]}),(0,l.jsx)(a.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:"popover-select",open:e,onClose:t,anchorEl:null==n?void 0:n.current,children:(0,l.jsx)(u.Z,{toggleOpen:t,group:!0})})]})};t.default=h},7903:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var l=n(1844),a=n(3451),r=n.n(a),i=n(7166),s=n.n(i),o=n(507),c=n(5784),u=n(7003),d=n(5241),h=n(887),g=n(2339),p=n(5587),v=n(4686),m=n(9305),f=n(8933),b=n(1221),x=n.n(b);let _=s().bind(x()),y=e=>{let t=e=>{e.preventDefault(),e.stopPropagation()},n={...e.innerProps,onMouseDown:t},{attributes:a,listeners:r,setNodeRef:i,transform:s,transition:o}=(0,p.nB)({id:e.data.id}),c={transform:v.ux.Transform.toString(s),transition:o};return(0,l.jsx)("div",{style:c,ref:i,...a,...r,children:(0,l.jsx)(u.c.MultiValue,{...e,innerProps:n})})},j=e=>{let{isOver:t,setNodeRef:n}=(0,h.Zj)({id:"droppable"});return(0,l.jsx)("div",{style:{color:t?"green":void 0},ref:n,children:(0,l.jsx)(u.c.MultiValueContainer,{...e})})},S=e=>(0,l.jsx)(u.c.MultiValueRemove,{...e,innerProps:{onPointerDown:e=>e.stopPropagation(),...e.innerProps},children:(0,l.jsx)("div",{style:{width:"100%",height:"100%",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:"x"})}),C=e=>(0,l.jsx)(u.c.Menu,{className:_("react-select-list"),...e}),w=e=>{let{columns:t={}}=e,{params:n,updateParams:a}=(0,f.Z)(),[r,i]=(0,c.useState)([]),{closeModal:s}=(0,c.useContext)(m.t),o=(0,c.useCallback)(e=>i([...e],[])),u=(0,c.useCallback)(e=>{let{active:t,over:n}=e;t&&n&&i(e=>{let l=e.findIndex(e=>e.id===t.id),a=e.findIndex(e=>e.id===n.id);return(0,p.Rp)(e,l,a)})},[]),v=(0,c.useMemo)(()=>null==t?void 0:t.map((e,t)=>({id:t+1,label:e,value:e})),[t]),b=(0,c.useCallback)(()=>i(v),[v]),x=(0,c.useCallback)(()=>{if(r.length>0){let e=r.map(e=>e.value);a({select:e.join(",")})}else a({select:void 0});s()},[r,a,s]);(0,c.useEffect)(()=>{var e;let t=null==n?void 0:null===(e=n.select)||void 0===e?void 0:e.split(",").map(e=>v.find(t=>t.value.toLowerCase()===e.toLowerCase()));(null==t?void 0:t.length)?i([...t]):i([...v])},[v,null==n?void 0:n.select]);let w=(0,c.useMemo)(()=>({valueContainer:(e,t)=>({...e,overflow:"auto",padding:"5px 6px"}),multiValue:(e,t)=>({...e,backgroundColor:"#E5E5FE",alignItems:"center"}),multiValueLabel:(e,t)=>({...e,color:"#5155F5",fontSize:"12px",fontWeight:"400",textTransform:"uppercase"}),multiValueRemove:(e,t)=>({...e,backgroundColor:"#AFB0FB",borderRadius:"100%",height:"14px",width:"14px",marginLeft:"8px",marginRight:"8px",fontSize:"10px",color:"white",display:"flex",alignItems:"center"})}),[]);return(0,l.jsxs)("div",{className:_("multi-select-columns"),children:[(0,l.jsx)("div",{className:_("title"),children:"Column Selection & Ordering"}),(0,l.jsx)("div",{className:_("subtitle"),children:"Add and remove column tags to update the table"}),(0,l.jsxs)("div",{className:_("multi-select-columns-body"),children:[(0,l.jsx)(h.LB,{modifiers:[g.F4],onDragEnd:u,children:(0,l.jsx)(p.Fo,{items:r,strategy:p.PG,children:(0,l.jsx)(d.ZP,{styles:w,distance:4,isMulti:!0,options:v,value:r,onChange:o,components:{MultiValue:y,MultiValueContainer:j,MultiValueRemove:S,Menu:C},closeMenuOnSelect:!1})})}),(0,l.jsxs)("div",{className:_("button-row"),children:[(0,l.jsx)("div",{className:_("reset"),onClick:b,children:"Reset Defaults"}),(0,l.jsx)("button",{className:_("button"),onClick:x,children:"Done"})]})]})]})},k=s().bind(r()),N=e=>{let{columns:t}=e;return(0,l.jsx)(o.default,{toggleElement:(0,l.jsxs)("div",{className:k("button-outline"),children:[(0,l.jsx)("img",{src:"/columns_placeholder.png"})," ",(0,l.jsx)("span",{children:"Columns"})]}),sx:{"& .MuiDialog-container":{"& .MuiPaper-root":{width:"100%",maxWidth:"540px"}}},children:(0,l.jsx)(w,{columns:t})})};var O=N},3559:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5724),r=n(3451),i=n.n(r),s=n(7166),o=n.n(s),c=n(8901),u=n(130);let d=o().bind(i()),h=()=>{let{open:e,toggleOpen:t,anchor:n}=(0,c.Z)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:d("button-outline"),onClick:t,ref:n,children:[(0,l.jsx)("img",{src:"/group_placeholder.png"})," ",(0,l.jsx)("span",{children:"Sort By"})]}),(0,l.jsx)(a.ZP,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:"popover-select",onClose:t,open:e,anchorEl:null==n?void 0:n.current,children:(0,l.jsx)(u.Z,{toggleOpen:t})})]})};t.default=h},6456:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var l=n(1844),a=n(5784),r=n(5697),i=n.n(r),s=n(6496),o=n.n(s),c=n(5424),u=n.n(c),d=n(2349),h=n(4137),g=n(5996),p=n(3451),v=n.n(p),m=n(1221),f=n.n(m),b=n(7166),x=n.n(b);x().bind(v());let _=x().bind(f()),y=e=>{let{callback:t}=e;return(0,l.jsx)(h.Z,{position:"end",style:{cursor:"pointer"},children:(0,l.jsx)(g.Z,{onClick:t,color:"primary",fontSize:"small"})})},j={clearFilter:i().func,onKeyPress:i().func,defaultValue:i().string,disabled:i().bool,maxOptions:i().number,onBlur:i().func,onChange:i().func,onKeyDown:i().func,onRequestOptions:i().func,onSelect:i().func,changeOnSelect:i().func,options:i().oneOfType([i().object,i().arrayOf(i().string)]),regex:i().string,matchAny:i().bool,minChars:i().number,requestOnlyIfNoOptions:i().bool,spaceRemovers:i().arrayOf(i().string),spacer:i().string,trigger:i().oneOfType([i().string,i().arrayOf(i().string)]),value:i().string,offsetX:i().number,offsetY:i().number,passThroughEnter:i().bool,refInput:i().shape({current:i().any}),status:i().string};class S extends a.Component{componentDidMount(){window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){let{options:t}=this.props,{caret:n}=this.state;t.length!==e.options.length&&this.updateHelper(this.recentValue,n,t)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}getMatch(e,t,n){let{trigger:l,matchAny:a,regex:r}=this.props,i=RegExp(r),s=l;Array.isArray(s)||(s=Array(l)),s.sort();let o=n;Array.isArray(n)&&s.forEach(e=>{o[e]=n});let c=this.arrayTriggerMatch(s,i),u=null;for(let d=0;d<c.length;d++){let{triggerStr:h,triggerMatch:g,triggerLength:p}=c[d];for(let v=t-1;v>=0;--v){let m=e.substring(v,t),f=m.match(i),b=-1;if(p>0){let x=g?v:v-p+1;if(x<0||(this.isTrigger(h,e,x)&&(b=x+p),!f&&b<0))break}else{if(f&&v>0)continue;if(t-(b=0===v&&f?0:v+1)==0)break}if(b>=0){let _=o[h];if(null==_)continue;let y=e.substring(b,t),j=_.filter(e=>{let t=e.toLowerCase().indexOf(y.toLowerCase());return -1!==t&&(a||0===t)}),S=y.length;u=null===u?{trigger:h,matchStart:b,matchLength:S,options:j}:{...u,trigger:h,matchStart:b,matchLength:S,options:j}}}}return u}arrayTriggerMatch(e,t){let n=e.map(e=>({triggerStr:e,triggerMatch:e.match(t),triggerLength:e.length}));return n}isTrigger(e,t,n){return!e||!e.length||t.substr(n,e.length)===e}handleChange(e){let{onChange:t,options:n,spaceRemovers:l,spacer:a,value:r}=this.props,i=this.recentValue,s=e.target.value,o=u()(e.target).end;if(s.length||this.setState({helperVisible:!1}),this.recentValue=s,this.setState({caret:o,value:e.target.value}),!s.length||!o)return t(e.target.value);if(this.enableSpaceRemovers&&l.length&&s.length>2&&a.length){for(let c=0;c<Math.max(i.length,s.length);++c)if(i[c]!==s[c]){if(c>=2&&s[c-1]===a&&-1===l.indexOf(s[c-2])&&-1!==l.indexOf(s[c])&&this.getMatch(s.substring(0,c-2),o-3,n)){let d="".concat(s.slice(0,c-1)).concat(s.slice(c,c+1)).concat(s.slice(c-1,c)).concat(s.slice(c+1));return this.updateCaretPosition(c+1),this.refInput.current.value=d,r||this.setState({value:d}),t(d)}break}this.enableSpaceRemovers=!1}return this.updateHelper(s,o,n),r||this.setState({value:e.target.value}),t(e.target.value)}handleKeyDown(e){let{helperVisible:t,options:n,selection:l}=this.state,{onKeyDown:a,passThroughEnter:r}=this.props;if(t)switch(e.keyCode){case 27:e.preventDefault(),this.resetHelper();break;case 38:e.preventDefault(),this.setState({selection:(n.length+l-1)%n.length});break;case 40:e.preventDefault(),this.setState({selection:(l+1)%n.length});break;case 14:case 13:r||e.preventDefault(),this.handleSelection(l);break;case 9:this.handleSelection(l);break;default:a(e)}else a(e)}handleResize(){this.setState({helperVisible:!1})}handleSelection(e){let{spacer:t,onSelect:n,changeOnSelect:l}=this.props,{matchStart:a,matchLength:r,options:i,trigger:s}=this.state,o=i[e],c=this.recentValue,u=0===s.length?"":c.substring(0,a-s.length),d=c.substring(a+r),h={target:this.refInput.current},g=l(s,o);h.target.value="".concat(u).concat(g).concat(t).concat(d),this.handleChange(h),n(h.target.value),this.resetHelper(),this.updateCaretPosition(u.length+g.length+1),this.enableSpaceRemovers=!0}updateCaretPosition(e){this.setState({caret:e},()=>(0,c.setCaretPosition)(this.refInput.current,e))}updateHelper(e,t,n){let l=this.refInput.current,a=this.getMatch(e,t,n);if(a){let r=o()(l,t),i=l.getBoundingClientRect(),s=r.top+l.offsetTop,c=Math.min(r.left+l.offsetLeft-10,l.offsetLeft+i.width-100),{minChars:u,onRequestOptions:d,requestOnlyIfNoOptions:h}=this.props;a.matchLength>=u&&(a.options.length>1||1===a.options.length&&(a.options[0].length!==a.matchLength||1===a.options[0].length))?this.setState({helperVisible:!0,top:s,left:c,...a}):(h&&a.options.length||d(e.substr(a.matchStart,a.matchLength)),this.resetHelper())}else this.resetHelper()}resetHelper(){this.setState({helperVisible:!1,selection:0})}renderAutocompleteList(){let{helperVisible:e,left:t,matchStart:n,matchLength:a,options:r,selection:i,top:s,value:o}=this.state;if(this.props.status,!e)return null;let{maxOptions:c,offsetX:u,offsetY:d}=this.props;if(0===r.length)return null;if(i>=r.length)return this.setState({selection:0}),null;let h=0===c?r.length:c,g=r.slice(0,h).map((e,t)=>{let r=e.toLowerCase().indexOf(o.substr(n,a).toLowerCase());return(0,l.jsxs)("li",{className:t===i?_("active"):null,onClick:()=>{this.handleSelection(t)},onMouseEnter:()=>{this.setState({selection:t})},children:[e.slice(0,r),(0,l.jsx)("strong",{children:e.substr(r,a)}),e.slice(r+a)]},e)});return(0,l.jsx)("ul",{className:_("react-autocomplete-input"),style:{left:t+u,top:s+d},children:g})}render(){let{onKeyPress:e,clearFilter:t,defaultValue:n,disabled:a,onBlur:r,value:i,status:s,...o}=this.props,{value:c}=this.state,u=Object.assign({},o);Object.keys(j).forEach(e=>{delete u[e]});let h="";return null!=i?h=i:null!==c?h=c:n&&(h=n),(0,l.jsxs)("div",{style:{position:"relative ",display:"flex"},children:[(0,l.jsx)(d.Z,{autoComplete:"off",disabled:a,onBlur:r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,inputRef:this.refInput,value:h,InputProps:{endAdornment:(0,l.jsx)(y,{callback:t}),sx:{fontSize:"13px",width:"360px",lineHeight:"1.5"}},inputProps:{spellCheck:!1},onKeyPress:e,...u}),this.renderAutocompleteList()]})}constructor(e){super(e),this.isTrigger=this.isTrigger.bind(this),this.arrayTriggerMatch=this.arrayTriggerMatch.bind(this),this.getMatch=this.getMatch.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleResize=this.handleResize.bind(this),this.handleSelection=this.handleSelection.bind(this),this.updateCaretPosition=this.updateCaretPosition.bind(this),this.updateHelper=this.updateHelper.bind(this),this.resetHelper=this.resetHelper.bind(this),this.renderAutocompleteList=this.renderAutocompleteList.bind(this),this.state={helperVisible:!1,left:0,trigger:null,matchLength:0,matchStart:0,options:[],selection:0,top:0,value:null},this.recentValue=e.defaultValue,this.enableSpaceRemovers=!1,this.refInput=e.refInput}}S.propTypes=j,S.defaultProps={defaultValue:"",disabled:!1,maxOptions:6,onBlur:()=>{},onChange:()=>{},onKeyDown:()=>{},onRequestOptions:()=>{},onSelect:()=>{},changeOnSelect:(e,t)=>e+t,options:[],regex:"^[A-Za-z0-9\\-_]+$",matchAny:!1,minChars:0,requestOnlyIfNoOptions:!0,spaceRemovers:[",",".","!","?"],spacer:" ",trigger:"@",offsetX:0,offsetY:0,value:null,passThroughEnter:!1,status:"VALID"};var C=n(8933),w=n(4173),k=n.n(w);let N=x().bind(k()),O=e=>{let{query:t,completions:n}=e,{params:r,updateParams:i}=(0,C.Z)(),s=(0,a.useRef)(),o=(0,a.useRef)(),[c,u]=(0,a.useState)(),d=(0,a.useCallback)(e=>{u("LOADING"),fetch("/api/filter?dgid=".concat(null==r?void 0:r.datagrid,"&where=").concat(e)).then(e=>e.json()).then(e=>{(null==e?void 0:e.valid)?u("VALID"):u("INVALID")})},[r]),h=(0,a.useCallback)(e=>{if("LOADING"!==c)try{clearTimeout(o.current)}catch(t){}finally{o.current=setTimeout(()=>d(e),150)}},[d,c]),g=e=>{if(void 0!==e&&""!==e)return e},p=(0,a.useCallback)(e=>{if("Enter"===e.key&&"VALID"===c){var t;i({filter:g(null==s?void 0:null===(t=s.current)||void 0===t?void 0:t.value),page:void 0})}},[i,c]),v=(0,a.useCallback)(e=>{i({filter:void 0,page:void 0})},[i]);(0,a.useEffect)(()=>{var e;void 0!==(null==s?void 0:null===(e=s.current)||void 0===e?void 0:e.value)&&(s.current.value=(null==t?void 0:t.whereExpr)||"")},[t]);let m=(0,a.useCallback)((e,t)=>"{"===e?"{".concat(t,"}"):e.endsWith(".")?"".concat(e).concat(t):" ".concat(t),[t]),f=(0,a.useMemo)(()=>n?["{"].concat(Object.keys(n)):["{"],[n]);return(0,a.useEffect)(()=>{var e,t,n,l;"INVALID"===c?null==s||null===(e=s.current)||void 0===e||null===(t=e.classList)||void 0===t||t.add(N("invalid")):null==s||null===(n=s.current)||void 0===n||null===(l=n.classList)||void 0===l||l.remove(N("invalid"))},[c]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(S,{defaultValue:(null==t?void 0:t.whereExpr)||"",trigger:f,options:n,changeOnSelect:m,matchAny:!0,regex:'^[a-zA-Z0-9_\\-\\"]+$',spacer:"",maxOptions:0,spaceRemovers:["."],placeholder:'e.g.: {"column name"} > 0.5',id:"filter",onKeyPress:p,clearFilter:v,refInput:s,onChange:h})})};var E=O},2582:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5241);n(9332),n(1664);var r=n(5784),i=n(8933),s=n(7166),o=n.n(s),c=n(4354),u=n.n(c),d=n(1458);let h=o().bind(u()),g=e=>{let{query:t,options:n=["blah"]}=e,{params:s,updateParams:o,prefetch:c}=(0,i.Z)(),{config:u}=(0,r.useContext)(d.ConfigContext),g=(0,r.useCallback)(e=>{o({datagrid:e.value,filter:void 0,sort:void 0,group:void 0,descending:void 0,page:void 0,rows:void 0,select:void 0})},[o]);return!u.hideSelector&&(0,l.jsx)(a.ZP,{id:"matrix-select-pulldown",className:h("matrix-select"),value:n.find(e=>{var t;return null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.endsWith(null==s?void 0:s.datagrid)})||"",options:n,styles:{menuPortal:e=>({...e,zIndex:9999}),menu:e=>({...e,zIndex:9999})},onChange:g})};t.default=g},6157:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(3707),r=n(5784),i=n(8933),s=n(6281),o=n.n(s),c=n(7166),u=n.n(c);let d=u().bind(o()),h=e=>{let{query:t}=e,{params:n,updateParams:s}=(0,i.Z)(),o=(0,r.useCallback)(()=>{s({sort:void 0,group:void 0,page:void 0,rows:void 0,filter:void 0,descending:void 0,select:void 0})});return(0,l.jsx)("div",{onClick:o,children:(0,l.jsx)(a.Z,{className:d("cached-icon")})})};t.default=h},8764:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5784);let r=e=>{let{children:t}=e;return(0,a.useEffect)(()=>(console.log("Mounting"),()=>console.log("Unmounting")),[]),(0,l.jsx)(l.Fragment,{children:t})};t.default=r},4313:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee}});var l=n(1844),a=n(5784),r=n(8568),i=n(7166),s=n.n(i),o=n(2764),c=n.n(o),u=n(6312),d=n(2783);let h=e=>{let{value:t,style:n}=e;return(0,l.jsx)("div",{className:"cell-content",style:n,children:"".concat((0,d.Z)(t,"TEXT"))})};var g=n(9330);let p=async e=>{let{url:t,query:n={},method:l="GET",cache:a=g.Z.cache,json:r=!0,returnUrl:i=!1,...s}=e;try{let o="",c={method:l,headers:{},...s};"GET"===l?o=new URLSearchParams(Object.fromEntries(Object.entries({...n,returnUrl:!!i||void 0}).filter(e=>{let[t,n]=e;return null!=n}))).toString():c.body=JSON.stringify(n),a?c.next={revalidate:1440}:c.cache="no-store";let u=await fetch("".concat(t,"?").concat(o),c);if(!r)return u;{let d=await u.json();if(i)return d.uri;return d}}catch(h){return{}}};var v=n(1186);let m=async e=>{var t;let n=await p({url:"".concat(g.Z.apiUrl,"category"),query:e});if((null==n?void 0:n.type)==="verbatim")return{isVerbatim:!0,...n};let l=Object.keys(null!==(t=null==n?void 0:n.values)&&void 0!==t?t:{}).sort().reduce((e,t)=>(e[t]=null==n?void 0:n.values[t],e),{}),a=[{type:"bar",orientation:"h",x:Object.values(l),y:Object.keys(l),text:Object.keys(l).map(e=>"".concat(null==n?void 0:n.column,": ").concat(e," ").concat((null==n?void 0:n.message)||"")),marker:{color:Object.keys(l).map(v.Lq)}}];return a};var f=n(8531),b=n(1941),x=n.n(b);let _=s().bind(x()),y=async e=>{let{value:t,expanded:n}=e,a=await m(t);if(null==a?void 0:a.isVerbatim)return(0,l.jsx)(l.Fragment,{children:a.value});if(n)return(0,l.jsx)(f.default,{expanded:n,title:null==t?void 0:t.columnName,query:t,columnName:null==t?void 0:t.columnName,data:a});{let r=new URLSearchParams(Object.fromEntries(Object.entries({chartType:"category",data:JSON.stringify(a)}).filter(e=>{let[t,n]=e;return null!=n}))).toString();return(0,l.jsx)("img",{src:"/api/charts?".concat(r),loading:"lazy",className:_(["chart-thumbnail","category"])})}},j=e=>e!==Object(e),S=s().bind(c()),C=e=>{let{value:t,expanded:n=!1}=e,r=j(t);return(0,l.jsxs)("div",{className:S(["cell","group"],{expanded:n}),children:[r&&(0,d.Z)(t),!r&&(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"Loading"}),children:(0,l.jsx)(y,{value:t,expanded:n})})]})};var w=n(507);let k=e=>{let{value:t,query:n,style:a}=e;return(null==n?void 0:n.groupBy)?(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(C,{value:t,query:n}),children:(0,l.jsx)(C,{value:t,query:n,expanded:!0})}):(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(h,{value:t,query:n,style:a}),children:(0,l.jsx)(h,{value:t,query:n})})},N=e=>{let{value:t,style:n}=e;return(0,l.jsx)("div",{className:"cell-content",style:n,children:"".concat((0,d.Z)(t,"FLOAT"))})},O=async e=>{var t;let n=await p({url:"".concat(g.Z.apiUrl,"histogram"),query:e});if((null==n?void 0:n.type)==="verbatim")return{isVerbatim:!0,...n};let l=[{type:"bar",x:"DATETIME"===n.columnType?n.labels.map(e=>(0,d.Z)(e,"DATETIME")):n.labels,y:n.bins,text:null==n?void 0:null===(t=n.labels)||void 0===t?void 0:t.map(e=>"".concat(n.column,": ").concat((0,d.Z)(e,n.columnType)," ").concat(n.message||"")),marker:{color:(0,v.Lq)(n.column)},statistics:n.statistics}];return l};var E=n(2341);let M=s().bind(x()),P=async e=>{let{value:t,expanded:n}=e,a=await O(t);if(null==a?void 0:a.isVerbatim)return(0,l.jsx)(l.Fragment,{children:a.value});if(n)return(0,l.jsx)(E.default,{expanded:n,title:null==t?void 0:t.columnName,query:t,data:a});{let r=new URLSearchParams(Object.fromEntries(Object.entries({chartType:"histogram",data:JSON.stringify(a)}).filter(e=>{let[t,n]=e;return null!=n}))).toString();return(0,l.jsx)("img",{src:"/api/charts?".concat(r),loading:"lazy",className:M(["chart-thumbnail","category"])})}},L=s().bind(c()),D=e=>{let{value:t,expanded:n=!1}=e,r=j(t);return(0,l.jsxs)("div",{className:L(["cell","group"],{expanded:n}),children:[r&&(0,d.Z)(t),!r&&(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"Loading"}),children:(0,l.jsx)(P,{value:t,expanded:n})})]})},A=e=>{let{value:t,query:n,style:r}=e;return(null==n?void 0:n.groupBy)?(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"FD"}),children:(0,l.jsx)(D,{value:t,query:n})}),children:(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"Loading"}),children:(0,l.jsx)(D,{value:t,query:n,expanded:!0})})}):(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(N,{value:t,query:n,style:r}),children:(0,l.jsx)(N,{value:t,query:n})})},B=s().bind(c()),I=e=>{let{value:t,query:n,style:a,expanded:r=!1}=e,i=(0,l.jsx)("div",{className:B("cell-content"),style:a,children:(0,l.jsx)("pre",{children:JSON.stringify(t)})}),s=(0,l.jsx)("div",{className:B("cell-json-expanded"),style:a,children:(0,l.jsx)("pre",{children:JSON.stringify(t,null,4)})});return(null==n?void 0:n.groupBy)?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(w.default,{toggleElement:i,children:s})},T=e=>{let{thumbnail:t,group:n}=e;return n?t?"asset-group-thumbnail":"asset-group":"download"},R=async e=>{let{query:t,returnUrl:n=!1,thumbnail:l=!1,json:a=!0}=e,r=T({thumbnail:l,group:!!(null==t?void 0:t.groupBy)}),i=await p({url:"".concat(g.Z.apiUrl).concat(r),query:{...t,thumbnail:l},json:a,returnUrl:n});return i},Z=async e=>{let{assetId:t,dgid:n,timestamp:l}=e,a=await p({url:"".concat(g.Z.apiUrl,"asset-metadata"),query:{assetId:t,dgid:n,timestamp:l}});return a};var q=n(5512),z=n(6057);let V=async e=>{let{value:t,query:n}=e,{type:r,assetType:i,assetId:s}=t,{dgid:o,timestamp:c}=n,u=await R({query:{assetId:s,dgid:o,timestamp:c},returnUrl:!0,json:!0}),d=await Z({assetId:s,dgid:o,timestamp:c});return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"Loading"}),children:(0,l.jsx)(q.default,{value:JSON.parse(d),children:(0,l.jsx)(z.default,{value:t,query:n,metadata:JSON.parse(d),image:u})})})};n(5675);let U=s().bind(c()),F=async e=>{let{value:t,query:n,expanded:a=!1,style:r}=e,i=T({thumbnail:!0,group:!!(null==n?void 0:n.groupBy)}),s=new URLSearchParams({assetId:null==t?void 0:t.assetId,dgid:null==n?void 0:n.dgid,timestamp:null==n?void 0:n.timestamp,thumbnail:!0,endpoint:i}).toString();return(0,l.jsx)("div",{className:U("cell-content"),style:r,children:(0,l.jsx)("img",{src:"/api/image?".concat(s),alt:"DataGrid Image"})})},W=e=>{let{value:t,query:n,expanded:r,style:i}=e;return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(l.Fragment,{children:"Loading"}),children:(0,l.jsx)(r?V:F,{value:t,query:n,expanded:r,style:i})})},H=s().bind(c()),G=async e=>{let{value:t,query:n,columnName:a,expanded:r}=e,i=await R({query:{gallerySize:[3,2],backgroundColor:[255,255,255],imageSize:[100,55],borderWidth:2,...t},returnUrl:!0,thumbnail:!0});return(0,l.jsx)("div",{className:H(["cell","group"]),children:(0,l.jsx)("img",{src:"data:application/octet-stream;base64,".concat(i),alt:"DataGrid Image"})})},K=e=>{let{value:t,query:n,columnName:a,expanded:r}=e;return r?(0,l.jsx)(V,{value:t,query:n,columnName:a,expanded:r}):(0,l.jsx)(G,{value:t,query:n,columnName:a,expanded:r})},J=e=>{let{value:t,columnName:n,query:a,style:r}=e;return(null==a?void 0:a.groupBy)?(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(K,{value:t,columnName:n,query:a}),children:(0,l.jsx)(K,{value:t,columnName:n,query:a,expanded:!0})}):(0,l.jsx)(w.default,{toggleElement:(0,l.jsx)(W,{value:t,query:a,expanded:!1,style:r}),children:(0,l.jsx)(W,{value:t,query:a,expanded:!0})})};var Y={TEXT:{width:200,groupedWidth:200,component:k},FLOAT:{width:150,groupedWidth:200,component:A},INTEGER:{width:100,groupedWidth:200,component:k},JSON:{width:400,groupedWidth:200,component:I},"IMAGE-ASSET":{width:150,groupedWidth:300,component:J},ROW_ID:{width:50,groupedWidth:100,component:k}};let Q=(e,t)=>t&&void 0!==Y[e]?Y[e].groupedWidth:void 0!==Y[e]?Y[e].width:(console.log("ERROR: missing cell type: ".concat(e)),200),X=s().bind(c()),$=e=>{var t;let{columnName:n,type:i,isHeader:s,children:o,grouped:c}=e,{columns:d,updateWidth:h}=(0,a.useContext)(r.ViewContext),[g,p]=(0,a.useState)(!1),[v,m]=(0,a.useState)(Q(i,c)),f=(0,a.useCallback)(e=>{var t;h({[n]:{width:v+(null!==(t=null==e?void 0:e.width)&&void 0!==t?t:0)}})},[n,v]),b=(0,a.useCallback)(()=>p(!0),[]),x=(0,a.useCallback)(()=>p(!1),[]);return(0,a.useEffect)(()=>{var e,t,l;g||(null==d?void 0:null===(e=d[n])||void 0===e?void 0:e.width)===v||m(null!==(l=null==d?void 0:null===(t=d[n])||void 0===t?void 0:t.width)&&void 0!==l?l:v)},[g,null==d?void 0:null===(t=d[n])||void 0===t?void 0:t.width,v]),(0,l.jsx)(u.e,{className:X("cell",{header:s,group:c}),handleStyles:s?{right:{width:"1px",backgroundColor:"silver",border:"2px ridge silver",borderRadius:"2px",right:"0px",height:"100%",top:"-2px"}}:{right:{backgroundColor:"#fafafa"}},size:{width:v,height:0},enable:{right:!0},onResizeStart:b,onResize:(e,t,n,l)=>{f(l)},onResizeStop:x,children:o})};var ee=$},8531:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(7166),r=n.n(a);n(507);var i=n(1941),s=n.n(i),o=n(5784),c=n(9332),u=n(5152),d=n.n(u);let h=d()(()=>Promise.all([n.e(960),n.e(283)]).then(n.bind(n,8660)),{loadableGenerated:{webpack:()=>[8660]},ssr:!1}),g=r().bind(s()),p={paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0,type:"category"}},v={displayModeBar:!1},m=e=>{let{expanded:t,title:n,query:a,columnName:r,data:i}=e,[s,u]=(0,o.useState)(!1),d=(0,o.useRef)(),m=(0,o.useCallback)((e,t)=>{e.forEach(e=>{e.isIntersecting&&u(!0)})},[]),f=(0,o.useMemo)(()=>({autosize:!0,title:n,font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{type:"category"}}),[n]),b=(0,c.useRouter)(),x=(0,o.useCallback)(e=>{e.event.preventDefault(),e.event.stopPropagation();let t='{"'.concat(a.groupBy,'"} == "').concat(a.columnValue,'" and {"').concat(r,'"} == "').concat(e.points[0].label,'"');a.filter&&(t="".concat(a.filter," and ").concat(t)),b.push("/?datagrid=".concat(a.dgid,"&filter=").concat(t))},[i,r]);return(0,o.useEffect)(()=>{let e=new IntersectionObserver(m,{root:null,rootMargin:"0px",threshold:0});e.observe(d.current)},[m]),(0,l.jsx)("div",{ref:d,className:g("plotly-container",{expanded:t}),children:s&&(0,l.jsx)(h,{className:g("plotly-chart",{expanded:t}),data:i,layout:t?f:p,config:v,onClick:x})})};t.default=m},2341:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5784),r=n(5152),i=n.n(r);n(2783);var s=n(3692),o=n(1458),c=n(7166),u=n.n(c),d=n(1941),h=n.n(d);let g=i()(()=>Promise.all([n.e(960),n.e(283)]).then(n.bind(n,8660)),{loadableGenerated:{webpack:()=>[8660]},ssr:!1}),p=u().bind(h()),v={paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0}},m={displayModeBar:!1},f=e=>{let{value:t,expanded:n,title:r,data:i}=e,{config:c}=(0,a.useContext)(o.ConfigContext),[u,d]=(0,a.useState)(!1),h=(0,a.useRef)(),f=(0,a.useCallback)((e,t)=>{e.forEach(e=>{e.isIntersecting&&d(!0)})},[]),b=e=>e?(0,l.jsx)("div",{style:{margin:"auto",marginLeft:"inherit"},children:Object.keys(e).map((t,n)=>(0,l.jsxs)("ul",{style:{paddingLeft:"0"},children:[(0,l.jsx)("b",{children:t})," :"," ",(0,s.Z)(e[t],3).toLocaleString(c.locale)]}))}):(0,l.jsx)("div",{}),x=(0,a.useMemo)(()=>void 0!==i&&Array.isArray(i)&&i[0].statistics?b(i[0].statistics):(0,l.jsx)("div",{}),[i]);(0,a.useEffect)(()=>{let e=new IntersectionObserver(f,{root:null,rootMargin:"0px",threshold:0});e.observe(h.current)},[f]);let _=(0,a.useMemo)(()=>({autosize:!0,title:r,font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{font:{size:13,color:"#3D4355"}}}),[r]);return(0,l.jsxs)("div",{style:{minWidth:"700px",display:"flex"},children:[(0,l.jsx)("div",{ref:h,className:p("plotly-container-with-stats",{expanded:n}),children:u&&(0,l.jsx)(g,{className:p("plotly-chart-with-stats",{expanded:n}),data:i,layout:n?_:v,config:m})}),x]})};t.default=f},6057:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var l=n(1844),a=n(5784),r=n(698),i=n.n(r),s=n(7166),o=n.n(s);let c=e=>{let[t,n]=(0,a.useState)(0),[l,r]=(0,a.useState)({}),i=(0,a.useMemo)(()=>{let t=Number.MAX_VALUE,n=-Number.MAX_VALUE;if(null==e?void 0:e.annotations)for(let l of Object.values(e.annotations))for(let a of Object.values(l))void 0!==(null==a?void 0:a.score)&&(a.score<t&&(t=a.score),a.score>n&&(n=a.score));return{min:t,max:n}},[null==e?void 0:e.annotations]),s=(0,a.useMemo)(()=>{var n;return null!=e&&e.annotations?null===(n=e.annotations)||void 0===n?void 0:n.data.filter(e=>(!(null==e?void 0:e.score)||(null==e?void 0:e.score)>t)&&!(null==l?void 0:l[null==e?void 0:e.label])):[]},[null==e?void 0:e.overlays,t,l]),o=(0,a.useCallback)(e=>n(e.target.value),[]),c=(0,a.useCallback)(e=>{if(null==l?void 0:l[e.label]){let{[e.label]:t,...n}=l;r(n)}else r({...l,[e.label]:!0})},[l]);return{labels:s,scoreRange:i,updateScore:o,toggleLabel:c}};var u=n(1186),d=n(5512);let h=o().bind(i()),g=e=>{let{label:t,toggle:n}=e,a=(0,u.Lq)(t.label),r=(0,u.Qg)(a);return(0,l.jsx)("div",{onClick:()=>n(t),style:{background:a,color:r},children:"".concat(null==t?void 0:t.label)})},p=e=>{let{image:t}=e,n=(0,a.useRef)(),r=(0,a.useRef)(),{metadata:i}=(0,a.useContext)(d.CanvasContext),{labels:s,scoreRange:o,updateScore:p,toggleLabel:v}=c(i);console.log(s);let m=(0,a.useCallback)(()=>{var e;let l=null===(e=n.current)||void 0===e?void 0:e.getContext("2d");l.clearRect(0,0,n.current.width,n.current.height);let a=new Image;a.onload=()=>l.drawImage(a,0,0),a.src="data:application/octet-stream;base64,".concat(t)},[t]),f=(0,a.useCallback)(()=>{var e;let t=null===(e=r.current)||void 0===e?void 0:e.getContext("2d");for(let n of(t.clearRect(0,0,r.current.width,r.current.height),t.imageSmoothingEnabled=!0,s))if(null==n?void 0:n.regions)for(let l of n.regions){t.fillStyle=(0,u.Lq)(n.label),t.beginPath(),t.moveTo(l[0],l[1]);for(let a=2;a<l.length;a+=2)t.lineTo(l[a],l[a+1]);t.closePath(),t.fill()}else if(null==n?void 0:n.boxes)for(let i of n.boxes){let[o,c,d,h]=i;t.strokeStyle=(0,u.Lq)(n.label),t.lineWidth=3,t.beginPath(),t.moveTo(1*o,1*c),t.lineTo((o+d)*1,1*c),t.lineTo((o+d)*1,(c+h)*1),t.lineTo(1*o,(c+h)*1),t.closePath(),t.stroke()}},[i,s]);return(0,a.useEffect)(()=>{m()},[m]),(0,a.useEffect)(()=>{f()},[f]),(0,l.jsxs)("div",{className:h("image-editor"),children:[(0,l.jsxs)("div",{className:h("editor-controls"),children:[(0,l.jsx)("div",{className:"score-control",children:(0,l.jsxs)("div",{className:"slider-container",children:[(0,l.jsx)("div",{className:"zoom-label",children:"Score:"}),(0,l.jsx)("input",{type:"range",min:"".concat(o.min),max:"".concat(o.max),defaultValue:"".concat(o.min),className:"zoom-slider",id:"zoom-slide",step:"0.001",onChange:p})]})}),(0,l.jsx)("div",{className:h("labels-container"),children:null==s?void 0:s.map(e=>(0,l.jsx)(g,{toggle:v,label:e}))})]}),(0,l.jsx)("div",{className:h("canvas-column"),children:(0,l.jsxs)("div",{className:h("canvas-container"),children:[(0,l.jsx)("canvas",{ref:n,height:472,width:492}),(0,l.jsx)("canvas",{ref:r,height:472,width:492})]})})]})};var v=p},5512:function(e,t,n){"use strict";n.r(t),n.d(t,{CanvasContext:function(){return r}});var l=n(1844),a=n(5784);let r=(0,a.createContext)({metadata:{}}),i=e=>{let{value:t,children:n}=e;return(0,l.jsx)(r.Provider,{value:{metadata:{...t}},children:n})};t.default=i},1458:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigContext:function(){return r}});var l=n(1844),a=n(5784);let r=(0,a.createContext)({config:{apiUrl:null,otherUrl:null,hideSelector:!1}}),i=(e,t)=>"UPDATE_CONFIG"===t.type?{config:{...e.config,...t.payload}}:e,s=e=>{let{value:t,children:n}=e,[s,o]=(0,a.useReducer)(i,t);return(0,l.jsx)(r.Provider,{value:{config:null==s?void 0:s.config,updateConfig:e=>o({type:"UPDATE_CONFIG",payload:e})},children:n})};t.default=s},9305:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var l=n(1844),a=n(5784);let r=(0,a.createContext)({closeModal:()=>null,openModal:()=>null}),i=e=>{let{value:t,children:n}=e;return(0,l.jsx)(r.Provider,{value:{openModal:null==t?void 0:t.openModal,closeModal:null==t?void 0:t.closeModal},children:n})};t.Z=i},8568:function(e,t,n){"use strict";n.r(t),n.d(t,{ViewContext:function(){return r}});var l=n(1844),a=n(5784);let r=(0,a.createContext)({columns:{},query:{}}),i=(e,t)=>{switch(t.type){case"RESIZE_COL_WIDTH":return{...e,columns:{...e.columns,...t.payload}};case"NEW_COLUMNS":return{columns:{...t.payload.columns},query:{...t.payload.query}};case"UPDATE_COL_STATUS":return{...e,columns:{...e.columns,[t.payload.column]:{...e.columns[t.payload.column],isLoading:t.payload.isLoading}}};case"UPDATE_QUERY":return{...e,query:{...t.payload.query}};default:return e}},s=e=>{let{value:t,children:n}=e,[s,o]=(0,a.useReducer)(i,t);return(0,a.useEffect)(()=>{var e,n,l,a;let r=(null==s?void 0:null===(e=s.query)||void 0===e?void 0:e.dgid)!==(null==t?void 0:null===(n=t.query)||void 0===n?void 0:n.dgid)||(null==s?void 0:null===(l=s.query)||void 0===l?void 0:l.groupBy)!==(null==t?void 0:null===(a=t.query)||void 0===a?void 0:a.groupBy);r&&o({type:"NEW_COLUMNS",payload:{columns:t.columns,query:t.query}})},[null==s?void 0:s.query,null==t?void 0:t.query,o]),(0,l.jsx)(r.Provider,{value:{columns:s.columns,updateWidth:e=>o({type:"RESIZE_COL_WIDTH",payload:e}),toggleLoading:e=>o({type:"UPDATE_COL_STATUS",payload:e})},children:n})};t.default=s},507:function(e,t,n){"use strict";n.r(t);var l=n(1844),a=n(5784),r=n(8262),i=n(7166),s=n.n(i),o=n(5549),c=n.n(o),u=n(9305);let d=s().bind(c()),h=e=>{let{toggleElement:t,children:n,sx:i,tabIndex:s,fullScreen:o=!1}=e,[c,h]=(0,a.useState)(!1),g=(0,a.useCallback)(()=>h(!1),[]),p=(0,a.useCallback)(()=>h(!0),[]);return t?(0,l.jsxs)(u.Z,{value:{closeModal:g,openModal:p},children:[(0,l.jsx)("div",{className:d("dialogue-toggle"),tabIndex:s,onClick:p,children:t}),(0,l.jsx)(r.Z,{className:d("dialogue"),open:c,fullScreen:o,onClose:g,sx:i,children:n})]}):(0,l.jsx)("div",{onClick:p,tabIndex:s,className:d(["dialogue-toggle","overlay"]),children:(0,l.jsx)(r.Z,{className:d("dialogue"),open:c,fullScreen:o,onClose:g,sx:i,children:n})})};t.default=h},130:function(e,t,n){"use strict";var l=n(1844),a=n(5784),r=n(5241),i=n(8568),s=n(8933),o=n(5503),c=n(813),u=n(8591),d=n.n(u),h=n(7166),g=n.n(h);n(7643);let p=g().bind(d()),v=e=>{let{toggle:t,sortDesc:n}=e;return(0,l.jsxs)("div",{className:p("arrow-toggle"),onClick:t,children:[n&&(0,l.jsx)(o.Z,{}),!n&&(0,l.jsx)(c.Z,{})]})},m=e=>{let{toggleOpen:t,group:n=!1}=e,{params:o,updateParams:c}=(0,s.Z)(),{columns:u}=(0,a.useContext)(i.ViewContext),[d,h]=(0,a.useState)(),g=(0,a.useCallback)(()=>{c({descending:((null==o?void 0:o.descending)!=="true").toString()})},[o,c]),m=(0,a.useCallback)(()=>{h(null),t()},[t]),f=(0,a.useCallback)(e=>{d&&(n?c({group:d[0].value,sort:d[0].value,rows:4,page:void 0}):c({sort:d[0].value}),t())},[n,d,c,t]),b=(0,a.useCallback)(()=>{n?c({group:void 0,page:void 0,rows:void 0}):c({sort:void 0}),t()}),x=(0,a.useMemo)(()=>Object.keys(u).map((e,t)=>({id:t+1,label:e,value:e})),[u]),_=(0,a.useCallback)(e=>{h(null==x?void 0:x.filter(t=>t.value===e.value))},[x]);return(0,l.jsxs)("div",{className:p("select-modal"),children:[(0,l.jsxs)("div",{className:p("select-modal-title"),children:[(0,l.jsx)("div",{children:"Select a column"}),(0,l.jsx)("div",{className:p("reset-button"),onClick:b,children:"Reset to default"})]}),(0,l.jsx)("div",{className:p("select-modal-body"),children:(0,l.jsxs)("div",{className:p("react-select-container"),children:[(0,l.jsx)(r.ZP,{value:null!=d?d:x.filter(e=>e.label===(n?null==o?void 0:o.group:null==o?void 0:o.sort)),options:x,onChange:_}),!n&&(0,l.jsx)(v,{toggle:g,sortDesc:(null==o?void 0:o.descending)==="true"})]})}),(0,l.jsxs)("div",{className:p("button-row-footer"),children:[(0,l.jsx)("div",{className:p("button-outline"),onClick:m,children:"Cancel"}),(0,l.jsx)("div",{className:p("button"),onClick:f,children:"Done"})]})]})};t.Z=m},9330:function(e,t,n){"use strict";var l=n(3454);let a={apiUrl:"".concat(l.env.KANGAS_PROTOCOL||"http","://").concat(l.env.KANGAS_HOST,":").concat(l.env.KANGAS_BACKEND_PORT,"/datagrid/"),rootUrl:"".concat(l.env.KANGAS_PROTOCOL||"http","://").concat(l.env.KANGAS_HOST,":").concat(l.env.PORT,"/"),defaultDecimalPrecision:5,locale:"en-US",hideSelector:"1"===l.env.KANGAS_HIDE_SELECTOR,cache:!0,prefetch:!1};t.Z=a},2783:function(e,t,n){"use strict";var l=n(3692);function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return String(e).padStart(t,n)}class r{format(){return"00"===this.hour&&"00"===this.minute&&"00"===this.second?"".concat(this.year,"-").concat(this.month,"-").concat(this.day):"".concat(this.year,"-").concat(this.month,"-").concat(this.day," ").concat(this.hour,":").concat(this.minute,":").concat(this.second)}constructor(e){this.obj=new Date(1e3*e),this.year=a(this.obj.getFullYear(),4),this.month=a(this.obj.getMonth()+1,2),this.day=a(this.obj.getDate(),2),this.hour=a(this.obj.getHours(),2),this.minute=a(this.obj.getMinutes(),2),this.second=a(this.obj.getSeconds(),2)}}t.Z=function(e,t){if(null===e)return"None";let n=e;if("DATETIME"===t){let a=new r(e);n=a.format("YYYY-MM-DD HH:mm:ss")}else"FLOAT"===t?n=(0,l.Z)(e).toString():"string"!=typeof e&&(n=e.toString());return n}},1186:function(e,t,n){"use strict";n.d(t,{Lq:function(){return a},Qg:function(){return i}});let l=e=>{let t=["#ffd51d","#ffbd00","#ff8900","#fb7628","#ff4747","#e51772","#cf0057","#6e1d89","#860dab","#49a5bd","#0096c7","#00b4d8","#12a592","#16cab2","#41ead4"];return t[e%t.length]},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(["1","true","t","yes"].includes(e.toLowerCase()))return"#12a592";if(["0","false","f","no"].includes(e.toLowerCase()))return"#cf0057";let t=[...e].reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0);return l(Math.abs(t))},r=e=>{let t=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=e=>{let t=r(e),n=t[0],l=t[1],a=t[2];return Math.round((299*n+587*l+114*a)/1e3)>125?"black":"white"}},8901:function(e,t,n){"use strict";var l=n(5784);let a=e=>{let[t,n]=(0,l.useState)(!1),a=(0,l.useRef)(null),r=(0,l.useCallback)(()=>{n(!t)},[t]);return{open:t,toggleOpen:r,anchor:a}};t.Z=a},8933:function(e,t,n){"use strict";var l=n(9332),a=n(5784),r=n(9330);let i=()=>{let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),n=(0,a.useMemo)(()=>{let e={};for(let[n,l]of t)e[n]=l;return e},[t]),i=(0,a.useCallback)(n=>{let l=new URLSearchParams(t.toString());for(let a in n)l.has(a)&&l.delete(a),void 0!==n[a]&&l.append(a,n[a]);e.push("/?".concat(l.toString()))},[t,e]),s=(0,a.useCallback)(n=>{let l=new URLSearchParams(t.toString());for(let a in n)l.get(a)&&l.delete(a),void 0!==n[a]&&l.append(a,n[a]);r.Z.prefetch&&e.prefetch("/?".concat(l.toString()))},[t,e]);return{params:n,updateParams:i,prefetch:s}};t.Z=i},3692:function(e,t,n){"use strict";var l=n(9330);let a=e=>{if(Math.floor(e)===e)return 0;let[,t=""]=e.toString().split(".");return t.length},r=(e,t)=>{let n=null!=t?t:l.Z.defaultDecimalPrecision;if(null===n)return e;let r=Number(e);if(isNaN(r))return e;if(Number.isInteger(r)||a(r)<=n)return r;let i=10**n;return Math.floor(r*i)/i};t.Z=r},2431:function(){}},function(e){e.O(0,[294,17,744],function(){return e(e.s=290)}),_N_E=e.O()}]);