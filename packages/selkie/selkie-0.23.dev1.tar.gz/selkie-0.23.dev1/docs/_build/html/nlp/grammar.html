<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>selkie.grammar — Constituent grammars &mdash; Selkie 0.22 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="selkie.gdev — Grammar development tool" href="gdev.html" />
    <link rel="prev" title="selkie.avs — Recursive feature structures" href="avs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Selkie
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../todo.html">To Do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyext/index.html">Python extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Web Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">General-purpose tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corpus/index.html">Corpus processing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The NLP pipeline</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fsa.html"><code class="docutils literal notranslate"><span class="pre">selkie.fsa</span></code> — Finite-state automata</a></li>
<li class="toctree-l2"><a class="reference internal" href="fst.html"><code class="docutils literal notranslate"><span class="pre">selkie.fst</span></code> — Finite-state transducers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tree.html"><code class="docutils literal notranslate"><span class="pre">selkie.tree</span></code> — Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="stemmer.html"><code class="docutils literal notranslate"><span class="pre">selkie.stemmer</span></code> — English stemmer</a></li>
<li class="toctree-l2"><a class="reference internal" href="head.html"><code class="docutils literal notranslate"><span class="pre">selkie.head</span></code> — Head marking</a></li>
<li class="toctree-l2"><a class="reference internal" href="dep.html"><code class="docutils literal notranslate"><span class="pre">selkie.dep</span></code> — Dependency conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html"><code class="docutils literal notranslate"><span class="pre">selkie.features</span></code> — Non-recursive features</a></li>
<li class="toctree-l2"><a class="reference internal" href="avs.html"><code class="docutils literal notranslate"><span class="pre">selkie.avs</span></code> — Recursive feature structures</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">selkie.grammar</span></code> — Constituent grammars</a></li>
<li class="toctree-l2"><a class="reference internal" href="gdev.html"><code class="docutils literal notranslate"><span class="pre">selkie.gdev</span></code> — Grammar development tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen.html"><code class="docutils literal notranslate"><span class="pre">selkie.gen</span></code> — Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html"><code class="docutils literal notranslate"><span class="pre">selkie.parser</span></code> — Constituent parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="expr.html"><code class="docutils literal notranslate"><span class="pre">selkie.expr</span></code> — Predicate calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="interp.html"><code class="docutils literal notranslate"><span class="pre">selkie.interp</span></code> — Semantic interpretation</a></li>
<li class="toctree-l2"><a class="reference internal" href="logic.html"><code class="docutils literal notranslate"><span class="pre">selkie.logic</span></code> — Automated reasoning</a></li>
<li class="toctree-l2"><a class="reference internal" href="bot.html"><code class="docutils literal notranslate"><span class="pre">selkie.bot</span></code> — Conversational agent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_intro/index.html">Web Application Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../db/index.html">Persistent-object database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../content/index.html">The Content Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cld/index.html">The CLD application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uc/index.html">Universal Corpus</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Selkie</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">The NLP pipeline</a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">selkie.grammar</span></code> — Constituent grammars</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/nlp/grammar.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="selkie-grammar-constituent-grammars">
<h1><code class="docutils literal notranslate"><span class="pre">selkie.grammar</span></code> — Constituent grammars<a class="headerlink" href="#selkie-grammar-constituent-grammars" title="Permalink to this heading"></a></h1>
<section id="lexicon">
<h2>Lexicon<a class="headerlink" href="#lexicon" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon.Entry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">selkie.grammar.Lexicon.</span></span><span class="sig-name descname"><span class="pre">Entry</span></span><a class="headerlink" href="#selkie.grammar.Lexicon.Entry" title="Permalink to this definition"></a></dt>
<dd><p>A lexical entry.  It consists of a word,
a part of speech, and an optional semantic translation.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">selkie.features</span> <span class="kn">import</span> <span class="n">C</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">selkie.grammar</span> <span class="kn">import</span> <span class="n">Lexicon</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ent</span> <span class="o">=</span> <span class="n">Lexicon</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">),</span> <span class="s1">&#39;DOG&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ent</span><span class="o">.</span><span class="n">word</span>
<span class="go">&#39;dog&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ent</span><span class="o">.</span><span class="n">pos</span>
<span class="go">n</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ent</span><span class="o">.</span><span class="n">sem</span>
<span class="go">&#39;DOG&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">selkie.grammar.</span></span><span class="sig-name descname"><span class="pre">Lexicon</span></span><a class="headerlink" href="#selkie.grammar.Lexicon" title="Permalink to this definition"></a></dt>
<dd><p>A Lexicon consists of a set of lexical entries.</p>
<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon.define">
<span class="sig-name descname"><span class="pre">define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">sem</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Lexicon.define" title="Permalink to this definition"></a></dt>
<dd><p>The basic method.  It takes a
word, a part of speech (category), and an optional semantic value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span> <span class="o">=</span> <span class="n">Lexicon</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="n">C</span><span class="p">([</span><span class="s1">&#39;n&#39;</span><span class="p">,</span><span class="s1">&#39;sg&#39;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">lex</span><span class="p">)</span>
<span class="go">cat n[sg]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">word</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Lexicon.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>The lexicon can be accessed by word.  The value is a list of entries.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lex</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
<span class="go">[&lt;Entry cat n[sg]&gt;]</span>
</pre></div>
</div>
<p>An error is signalled if the word is not present.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Lexicon.__len__" title="Permalink to this definition"></a></dt>
<dd><p>The length of the lexicon is the number of entries.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">lex</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Lexicon.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Lexicon.__iter__" title="Permalink to this definition"></a></dt>
<dd><p>For purposes of iteration, the elements of a lexicon are entries.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">lex</span><span class="p">)</span>
<span class="go">[&lt;Entry cat n[sg]&gt;]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="grammar">
<h2>Grammar<a class="headerlink" href="#grammar" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="selkie.grammar.Rule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">selkie.grammar.</span></span><span class="sig-name descname"><span class="pre">Rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symtab</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Rule" title="Permalink to this definition"></a></dt>
<dd><p>Grammar rules are represented by instances of the class Rule.  A
Rule has five attributes: <code class="docutils literal notranslate"><span class="pre">lhs</span></code>, <code class="docutils literal notranslate"><span class="pre">rhs</span></code>, <code class="docutils literal notranslate"><span class="pre">bindings</span></code>,
<code class="docutils literal notranslate"><span class="pre">variables</span></code>, and <code class="docutils literal notranslate"><span class="pre">sem</span></code>.  The <code class="docutils literal notranslate"><span class="pre">lhs</span></code>
is a single category, and the <code class="docutils literal notranslate"><span class="pre">rhs</span></code> is a list of categories.  The
value for <code class="docutils literal notranslate"><span class="pre">bindings</span></code> is a list containing <code class="docutils literal notranslate"><span class="pre">*</span></code>’s, one for each
variable used in the rule.  The value for <code class="docutils literal notranslate"><span class="pre">variables</span></code> is a list of
string representations for the variables, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The value for <code class="docutils literal notranslate"><span class="pre">sem</span></code> is an expression.</p>
<p>The constructor takes a lhs, rhs, sem, and a symbol table.  The symbol
table is a dict that maps variable names to integers from 0 to the
size of the table.  The symbol table is optional; if omitted,
variables are anonymous.  The length of the bindings list is the size
of the symbol table, if provided.  Otherwise, it is one greater than
the largest numeric variable occurring in either the lhs or rhs.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">selkie.grammar</span> <span class="kn">import</span> <span class="n">Rule</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">Rule</span><span class="p">(</span><span class="s1">&#39;vp&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;np&#39;</span><span class="p">],</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">lhs</span>
<span class="go">&#39;vp&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">rhs</span>
<span class="go">[&#39;v&#39;, &#39;np&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">bindings</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">sem</span>
<span class="go">&#39;foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="selkie.grammar.Grammar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">selkie.grammar.</span></span><span class="sig-name descname"><span class="pre">Grammar</span></span><a class="headerlink" href="#selkie.grammar.Grammar" title="Permalink to this definition"></a></dt>
<dd><p>The Grammar class has a similar structure to the Lexicon class.
Internally, it maintains two indices.  A rule of form <em>X -&gt;
Y1 … Yn</em> is indexed by <em>X</em> in the lefthand side index, and it
is indexed by <em>Y1</em> in the righthand side index.</p>
<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.define">
<span class="sig-name descname"><span class="pre">define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">sem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symtab</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Grammar.define" title="Permalink to this definition"></a></dt>
<dd><p>The basic method.  It takes a lhs, rhs, an optional
semantic translation, and an optional symbol table.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">selkie.grammar</span> <span class="kn">import</span> <span class="n">Grammar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Grammar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="s1">&#39;np&#39;</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;vp&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="s1">&#39;vp&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;np&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Start: s</span>

<span class="go">Rules:</span>
<span class="go">    [0] s -&gt; np vp</span>
<span class="go">    [1] vp -&gt; v np</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#selkie.grammar.Grammar.start" title="Permalink to this definition"></a></dt>
<dd><p>The attribute <code class="docutils literal notranslate"><span class="pre">start</span></code> contains the start category.  It defaults to
the lhs of the first rule defined.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">start</span>
<span class="go">s</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.expansions">
<span class="sig-name descname"><span class="pre">expansions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Grammar.expansions" title="Permalink to this definition"></a></dt>
<dd><p>Takes a string <em>X</em>
and returns the list of rules of form <em>X -&gt; Y1 … Yn</em>.
Note that the input is just a string, not a full category.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">expansions</span><span class="p">(</span><span class="s1">&#39;vp&#39;</span><span class="p">)</span>
<span class="go">[&lt;vp -&gt; v np&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.continuations">
<span class="sig-name descname"><span class="pre">continuations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#selkie.grammar.Grammar.continuations" title="Permalink to this definition"></a></dt>
<dd><p>Returns the list of rules whose righthand
side begins with a given symbol.  For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">continuations</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>
<span class="go">[&lt;vp -&gt; v np&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.declarations">
<span class="sig-name descname"><span class="pre">declarations</span></span><a class="headerlink" href="#selkie.grammar.Grammar.declarations" title="Permalink to this definition"></a></dt>
<dd><p>The value of <code class="docutils literal notranslate"><span class="pre">declarations</span></code> is generally <code class="docutils literal notranslate"><span class="pre">None</span></code>, unless the
grammar is created by the grammar loader
from a file that
contains declarations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="selkie.grammar.Grammar.lexicon">
<span class="sig-name descname"><span class="pre">lexicon</span></span><a class="headerlink" href="#selkie.grammar.Grammar.lexicon" title="Permalink to this definition"></a></dt>
<dd><p>The lexicon.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GrammarLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GrammarLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GrammarLoader" title="Permalink to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">GrammarLoader</span></code> reads a grammar file.  Here is a simple
example of the format.  This is the contents of <code class="docutils literal notranslate"><span class="pre">ex('g9.g')</span></code>.
In the section headers (e.g., “<code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">Features</span></code>”), the space
following the percent sign is optional, and the capitalization of
the section name does not matter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">Features</span>
<span class="n">nform</span> <span class="o">=</span> <span class="n">sg</span><span class="o">/</span><span class="n">pl</span>
<span class="n">vform</span> <span class="o">=</span> <span class="n">nform</span><span class="o">/</span><span class="n">ing</span>
<span class="n">trans</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="n">t</span>
<span class="nb">bool</span> <span class="o">=</span> <span class="o">+/-</span> <span class="n">default</span> <span class="o">-</span>
<span class="o">%</span> <span class="n">Categories</span>
<span class="n">S</span>   <span class="p">[]</span>
<span class="n">NP</span>  <span class="p">[</span><span class="n">form</span><span class="p">:</span><span class="n">nform</span><span class="p">,</span> <span class="n">wh</span><span class="p">:</span><span class="nb">bool</span><span class="p">]</span>
<span class="n">VP</span>  <span class="p">[</span><span class="n">form</span><span class="p">:</span><span class="n">vform</span><span class="p">]</span>
<span class="n">V</span>   <span class="p">[</span><span class="n">form</span><span class="p">:</span><span class="n">vform</span><span class="p">,</span> <span class="n">trans</span><span class="p">:</span><span class="n">trans</span><span class="p">]</span>
<span class="n">N</span>   <span class="p">[</span><span class="n">form</span><span class="p">:</span><span class="n">nform</span><span class="p">]</span>
<span class="n">Det</span> <span class="p">[</span><span class="n">form</span><span class="p">:</span><span class="n">nform</span><span class="p">]</span>
<span class="o">%</span> <span class="n">Rules</span>
<span class="n">S</span> <span class="o">-&gt;</span> <span class="n">NP</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span> <span class="n">VP</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span>
<span class="n">NP</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Det</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span> <span class="n">N</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span>
<span class="n">VP</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">V</span><span class="p">[</span><span class="n">_f</span><span class="p">,</span><span class="n">i</span><span class="p">]</span>
<span class="n">VP</span><span class="p">[</span><span class="n">_f</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">V</span><span class="p">[</span><span class="n">_f</span><span class="p">,</span><span class="n">t</span><span class="p">]</span> <span class="n">NP</span>
<span class="o">%</span> <span class="n">Lexicon</span>
<span class="n">the</span> <span class="n">Det</span>
<span class="n">a</span> <span class="n">Det</span><span class="p">[</span><span class="n">sg</span><span class="p">]</span>
<span class="n">cat</span> <span class="n">N</span><span class="p">[</span><span class="n">sg</span><span class="p">]</span>
<span class="n">dog</span> <span class="n">N</span><span class="p">[</span><span class="n">sg</span><span class="p">]</span>
<span class="n">dogs</span> <span class="n">N</span><span class="p">[</span><span class="n">pl</span><span class="p">]</span>
<span class="n">barks</span> <span class="n">V</span><span class="p">[</span><span class="n">sg</span><span class="p">,</span><span class="n">i</span><span class="p">]</span>
<span class="n">chases</span> <span class="n">V</span><span class="p">[</span><span class="n">sg</span><span class="p">,</span><span class="n">t</span><span class="p">]</span>
</pre></div>
</div>
<p>The grammar loader is called by the <code class="docutils literal notranslate"><span class="pre">Grammar</span></code> constructor when a
filename is provided.  For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">seal.core.io</span> <span class="kn">import</span> <span class="n">ex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Grammar</span><span class="p">(</span><span class="n">ex</span><span class="o">.</span><span class="n">g9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Start: S</span>

<span class="go">Rules:</span>
<span class="go">    [0] S -&gt; NP[_f,-] VP[_f]</span>
<span class="go">    [1] NP[_f,-] -&gt; Det[_f] N[_f]</span>
<span class="go">    [2] VP[_f] -&gt; V[_f,i]</span>
<span class="go">    [3] VP[_f] -&gt; V[_f,t] NP[pl/sg,-]</span>

<span class="go">Lexicon:</span>
<span class="go">    a Det[sg]</span>
<span class="go">    barks V[sg,i]</span>
<span class="go">    cat N[sg]</span>
<span class="go">    chases V[sg,t]</span>
<span class="go">    dog N[sg]</span>
<span class="go">    dogs N[pl]</span>
<span class="go">    the Det[pl/sg]</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="avs.html" class="btn btn-neutral float-left" title="selkie.avs — Recursive feature structures" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gdev.html" class="btn btn-neutral float-right" title="selkie.gdev — Grammar development tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Steven Abney.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>