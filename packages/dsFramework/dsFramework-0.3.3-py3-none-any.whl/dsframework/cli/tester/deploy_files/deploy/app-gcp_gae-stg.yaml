runtime: custom
env: flex
service: {name-your-service}
threadsafe: true

runtime_config:
  jdk: openjdk8
  
resources:
  cpu: 16
  memory_gb: 20

automatic_scaling:
  min_num_instances: 1
  max_num_instances: 10
  target_concurrent_requests: 3
  cpu_utilization:
    target_utilization: 0.5

env_variables:
  SPRING_PROFILES_ACTIVE: staging
  DD_TRACE_AGENT_HOSTNAME: 'datadog-proxy.xoominfo.com'
  DD_SERVICE_NAME: '{name-your-service}'
  DD_LOGS_INJECTION: "true"
  # do not change the name XXX_CICD_INJECTED_DEPLOY_VERSION_XXX it's a placeholder
  # that gets replaced with the branch/tag name (e.g. master-58 in staging, 4.1.0-1 in production)
  DD_VERSION: XXX_CICD_INJECTED_DEPLOY_VERSION_XXX

handlers:
- url: /.*
  script: this field is required, but ignored

network:
  name: default
  subnetwork_name: default
  instance_tag: allow-ssh
