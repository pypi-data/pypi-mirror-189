import{d as Z,i as D,al as I,c as t,Y as L,a0 as P,am as V,an as B,ao as N,a as n,w as o,a2 as f,a3 as j,Z as q,ap as A,o as l,u as e,aq as H,f as u,ar as w,as as M,b as i,at as O,au as Q,av as U,aw as X}from"./index-7e95d846-e701538a.js";import{u as Y}from"./usePageTitle-3d045253.js";import"./index-585abb35.js";import{r as $}from"./routes-ebc284a5.js";import"./meta-26546594.js";const ee=Z({__name:"FlowRun",setup(z){const d=j(),p=D("Logs"),c=I("flowRunId"),m=t(()=>{const s=["Logs","Task Runs","Subflow Runs","Parameters"];return q.xl||s.push("Details"),s}),_=L(),y=P(_.flowRuns.getFlowRun,[c],{interval:3e4}),a=t(()=>y.response),v=t(()=>{var s;return(s=a.value)==null?void 0:s.deploymentId}),R=V(v);B(c,(s,r)=>{s!==r&&(p.value="Logs")});const g=t(()=>{var s;return((s=a.value)==null?void 0:s.parameters)??{}}),k=t(()=>{var s;return((s=R.value)==null?void 0:s.parameterOpenApiSchema)??{}}),b=t(()=>A(g.value,k.value));function T(){d.push($.flowRuns())}const h=t(()=>{var s;return(s=a.value)==null?void 0:s.stateType});N(h);const F=t(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return Y(F),(s,r)=>{const x=f("p-tabs"),C=f("p-layout-well");return l(),n(C,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(H),{key:0,"flow-run-id":e(a).id,onDelete:T},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(M),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),i(x,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=S=>p.value=S),tabs:e(m)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(O),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(Q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(U),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[i(e(X),{language:"json",snippet:e(b)},null,8,["snippet"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
